<html><head><meta charset="UTF-8"></head><body><pre>
ovs-l3ping(1)                 Open vSwitch Manual                ovs-l3ping(1)



<b>N</b><b>A</b><b>M</b><b>E</b>
       <b>o</b><b>v</b><b>s</b><b>-</b><b>l</b><b>3</b><b>p</b><b>i</b><b>n</b><b>g</b> - check network deployment for L3 tunneling problems

<b>S</b><b>Y</b><b>N</b><b>O</b><b>P</b><b>S</b><b>I</b><b>S</b>
       <b>o</b><b>v</b><b>s</b><b>-</b><b>l</b><b>3</b><b>p</b><b>i</b><b>n</b><b>g</b> <b>-</b><b>s</b> <u>T</u><u>u</u><u>n</u><u>n</u><u>e</u><u>l</u><u>R</u><u>e</u><u>m</u><u>o</u><u>t</u><u>e</u><u>I</u><u>P</u><u>,</u><u>I</u><u>n</u><u>n</u><u>e</u><u>r</u><u>I</u><u>P</u><u>[</u><u>/</u><u>m</u><u>a</u><u>s</u><u>k</u><u>]</u> <b>-</b><b>t</b> <u>t</u><u>u</u><u>n</u><u>n</u><u>e</u><u>l</u><u>m</u><u>o</u><u>d</u><u>e</u>
       <b>o</b><b>v</b><b>s</b><b>-</b><b>l</b><b>3</b><b>p</b><b>i</b><b>n</b><b>g</b> <b>-</b><b>s</b> <u>T</u><u>u</u><u>n</u><u>n</u><u>e</u><u>l</u><u>R</u><u>e</u><u>m</u><u>o</u><u>t</u><u>e</u><u>I</u><u>P</u><u>,</u><u>I</u><u>n</u><u>n</u><u>e</u><u>r</u><u>I</u><u>P</u><u>[</u><u>/</u><u>m</u><u>a</u><u>s</u><u>k</u><u>]</u><u>[</u><u>:</u><u>C</u><u>o</u><u>n</u><u>t</u><u>r</u><u>o</u><u>l</u><u>P</u><u>o</u><u>r</u><u>t</u><u>]</u> <b>-</b><b>t</b> <u>t</u><u>u</u><u>n</u><u>n</u><u>e</u><u>l</u><u>m</u><u>o</u><u>d</u><u>e</u>

       <b>o</b><b>v</b><b>s</b><b>-</b><b>l</b><b>3</b><b>p</b><b>i</b><b>n</b><b>g</b> <b>-</b><b>c</b> <u>T</u><u>u</u><u>n</u><u>n</u><u>e</u><u>l</u><u>R</u><u>e</u><u>m</u><u>o</u><u>t</u><u>e</u><u>I</u><u>P</u><u>,</u><u>I</u><u>n</u><u>n</u><u>e</u><u>r</u><u>I</u><u>P</u><u>[</u><u>/</u><u>m</u><u>a</u><u>s</u><u>k</u><u>]</u><u>,</u><u>R</u><u>e</u><u>m</u><u>o</u><u>t</u><u>e</u><u>I</u><u>n</u><u>n</u><u>e</u><u>r</u><u>I</u><u>P</u> <b>-</b><b>t</b> <u>t</u><u>u</u><u>n</u><u>n</u><u>e</u><u>l</u><u>m</u><u>o</u><u>d</u><u>e</u>
       <b>o</b><b>v</b><b>s</b><b>-</b><b>l</b><b>3</b><b>p</b><b>i</b><b>n</b><b>g</b>     <b>-</b><b>c</b>     <u>T</u><u>u</u><u>n</u><u>n</u><u>e</u><u>l</u><u>R</u><u>e</u><u>m</u><u>o</u><u>t</u><u>e</u><u>I</u><u>P</u><u>,</u><u>I</u><u>n</u><u>n</u><u>e</u><u>r</u><u>I</u><u>P</u><u>[</u><u>/</u><u>m</u><u>a</u><u>s</u><u>k</u><u>]</u><u>[</u><u>:</u><u>C</u><u>o</u><u>n</u><u>t</u><u>r</u><u>o</u><u>l</u><u>P</u><u>o</u><u>r</u><u>t</u><u>[</u><u>:</u><u>D</u><u>a</u><u>t</u><u>a</u><u>‐</u>
       <u>P</u><u>o</u><u>r</u><u>t</u><u>]</u><u>]</u><u>,</u><u>R</u><u>e</u><u>m</u><u>o</u><u>t</u><u>e</u><u>I</u><u>n</u><u>n</u><u>e</u><u>r</u><u>I</u><u>P</u><u>[</u><u>:</u><u>C</u><u>o</u><u>n</u><u>t</u><u>r</u><u>o</u><u>l</u><u>P</u><u>o</u><u>r</u><u>t</u><u>[</u><u>:</u><u>D</u><u>a</u><u>t</u><u>a</u><u>P</u><u>o</u><u>r</u><u>t</u><u>]</u><u>]</u> [<b>-</b><b>b</b> <u>t</u><u>a</u><u>r</u><u>g</u><u>e</u><u>t</u><u>b</u><u>a</u><u>n</u><u>d</u><u>w</u><u>i</u><u>d</u><u>t</u><u>h</u>]  [<b>-</b><b>i</b>
       <u>t</u><u>e</u><u>s</u><u>t</u><u>i</u><u>n</u><u>t</u><u>e</u><u>r</u><u>v</u><u>a</u><u>l</u>] <b>-</b><b>t</b> <u>t</u><u>u</u><u>n</u><u>n</u><u>e</u><u>l</u><u>m</u><u>o</u><u>d</u><u>e</u>

       Common options:
              [<b>-</b><b>h</b> | <b>-</b><b>-</b><b>h</b><b>e</b><b>l</b><b>p</b>] [<b>-</b><b>V</b> | <b>-</b><b>-</b><b>v</b><b>e</b><b>r</b><b>s</b><b>i</b><b>o</b><b>n</b>]


<b>D</b><b>E</b><b>S</b><b>C</b><b>R</b><b>I</b><b>P</b><b>T</b><b>I</b><b>O</b><b>N</b>
       The  <b>o</b><b>v</b><b>s</b><b>-</b><b>l</b><b>3</b><b>p</b><b>i</b><b>n</b><b>g</b> program may be used to check for problems that could be
       caused by invalid routing policy, misconfigured firewall in the  tunnel
       path  or  a  bad  NIC  driver.   On one of the nodes, run <b>o</b><b>v</b><b>s</b><b>-</b><b>l</b><b>3</b><b>p</b><b>i</b><b>n</b><b>g</b> in
       server mode and on the other node run it in client  mode.   The  client
       and  server  will establish L3 tunnel, over which client will give fur‐
       ther testing instructions. The <b>o</b><b>v</b><b>s</b><b>-</b><b>l</b><b>3</b><b>p</b><b>i</b><b>n</b><b>g</b> client will perform  UDP  and
       TCP  tests.   This tool is different from <b>o</b><b>v</b><b>s</b><b>-</b><b>t</b><b>e</b><b>s</b><b>t</b> that it encapsulates
       XML/RPC control connection over the tunnel, so there is no need to open
       special holes in firewall.

       UDP  tests  can  report  packet loss and achieved bandwidth for various
       datagram sizes. By default target bandwidth for UDP tests is 1Mbit/s.

       TCP tests report only achieved  bandwidth,  because  kernel  TCP  stack
       takes care of flow control and packet loss.

   <b>C</b><b>l</b><b>i</b><b>e</b><b>n</b><b>t</b> <b>M</b><b>o</b><b>d</b><b>e</b>
       An <b>o</b><b>v</b><b>s</b><b>-</b><b>l</b><b>3</b><b>p</b><b>i</b><b>n</b><b>g</b> client will create a L3 tunnel and connect over it to the
       <b>o</b><b>v</b><b>s</b><b>-</b><b>l</b><b>3</b><b>p</b><b>i</b><b>n</b><b>g</b> server to schedule the tests. <u>T</u><u>u</u><u>n</u><u>n</u><u>e</u><u>l</u><u>R</u><u>e</u><u>m</u><u>o</u><u>t</u><u>e</u><u>I</u><u>P</u> is  the  peer's
       IP  address,  where  tunnel  will be terminated. <u>I</u><u>n</u><u>n</u><u>e</u><u>r</u><u>I</u><u>P</u> is the address
       that will be temporarily assigned during  testing.   All  test  traffic
       originating from this IP address to the <u>R</u><u>e</u><u>m</u><u>o</u><u>t</u><u>e</u><u>I</u><u>n</u><u>n</u><u>e</u><u>r</u><u>I</u><u>P</u> will be tunneled.
       It is possible to override default <u>C</u><u>o</u><u>n</u><u>t</u><u>r</u><u>o</u><u>l</u><u>P</u><u>o</u><u>r</u><u>t</u> and <u>D</u><u>a</u><u>t</u><u>a</u><u>P</u><u>o</u><u>r</u><u>t</u>,  if  there
       is any other application that already listens on those two ports.

   <b>S</b><b>e</b><b>r</b><b>v</b><b>e</b><b>r</b> <b>M</b><b>o</b><b>d</b><b>e</b>
       To  conduct  tests,  <b>o</b><b>v</b><b>s</b><b>-</b><b>l</b><b>3</b><b>p</b><b>i</b><b>n</b><b>g</b> server must be running.  It is required
       that both client and server <u>I</u><u>n</u><u>n</u><u>e</u><u>r</u><u>I</u><u>P</u> addresses are in the  same  subnet.
       It is possible to specify <u>I</u><u>n</u><u>n</u><u>e</u><u>r</u><u>I</u><u>P</u> with netmask in CIDR format.

<b>O</b><b>P</b><b>T</b><b>I</b><b>O</b><b>N</b><b>S</b>
       One of <b>-</b><b>s</b> or <b>-</b><b>c</b> is required.  The <b>-</b><b>t</b> option is also required.

       <b>-</b><b>s</b> <u>T</u><u>u</u><u>n</u><u>n</u><u>e</u><u>l</u><u>R</u><u>e</u><u>m</u><u>o</u><u>t</u><u>e</u><u>I</u><u>P</u><u>,</u><u>I</u><u>n</u><u>n</u><u>e</u><u>r</u><u>I</u><u>P</u><u>[</u><u>/</u><u>m</u><u>a</u><u>s</u><u>k</u><u>]</u><u>[</u><u>:</u><u>C</u><u>o</u><u>n</u><u>t</u><u>r</u><u>o</u><u>l</u><u>P</u><u>o</u><u>r</u><u>t</u><u>]</u>
       <b>-</b><b>-</b><b>s</b><b>e</b><b>r</b><b>v</b><b>e</b><b>r</b> <u>T</u><u>u</u><u>n</u><u>n</u><u>e</u><u>l</u><u>R</u><u>e</u><u>m</u><u>o</u><u>t</u><u>e</u><u>I</u><u>P</u><u>,</u><u>I</u><u>n</u><u>n</u><u>e</u><u>r</u><u>I</u><u>P</u><u>[</u><u>/</u><u>m</u><u>a</u><u>s</u><u>k</u><u>]</u><u>[</u><u>:</u><u>C</u><u>o</u><u>n</u><u>t</u><u>r</u><u>o</u><u>l</u><u>P</u><u>o</u><u>r</u><u>t</u><u>]</u>
              Run  in  server  mode  and create L3 tunnel with the client that
              will be accepting tunnel at <u>T</u><u>u</u><u>n</u><u>n</u><u>e</u><u>l</u><u>R</u><u>e</u><u>m</u><u>o</u><u>t</u><u>e</u><u>I</u><u>P</u> address.  The  socket
              on  <u>I</u><u>n</u><u>n</u><u>e</u><u>r</u><u>I</u><u>P</u><u>[</u><u>:</u><u>C</u><u>o</u><u>n</u><u>t</u><u>r</u><u>o</u><u>l</u><u>P</u><u>o</u><u>r</u><u>t</u><u>]</u>  will  be  used to receive further in‐
              structions from the client.

       <b>-</b><b>c</b>     <u>T</u><u>u</u><u>n</u><u>n</u><u>e</u><u>l</u><u>R</u><u>e</u><u>m</u><u>o</u><u>t</u><u>e</u><u>I</u><u>P</u><u>,</u><u>I</u><u>n</u><u>n</u><u>e</u><u>r</u><u>I</u><u>P</u><u>[</u><u>/</u><u>m</u><u>a</u><u>s</u><u>k</u><u>]</u><u>[</u><u>:</u><u>C</u><u>o</u><u>n</u><u>t</u><u>r</u><u>o</u><u>l</u><u>P</u><u>o</u><u>r</u><u>t</u><u>[</u><u>:</u><u>D</u><u>a</u><u>t</u><u>a</u><u>P</u><u>o</u><u>r</u><u>t</u><u>]</u><u>]</u><u>,</u><u>R</u><u>e</u><u>m</u><u>o</u><u>t</u><u>e</u><u>I</u><u>n</u><u>‐</u>
       <u>n</u><u>e</u><u>r</u><u>I</u><u>P</u><u>[</u><u>:</u><u>C</u><u>o</u><u>n</u><u>t</u><u>r</u><u>o</u><u>l</u><u>P</u><u>o</u><u>r</u><u>t</u><u>[</u><u>:</u><u>D</u><u>a</u><u>t</u><u>a</u><u>P</u><u>o</u><u>r</u><u>t</u><u>]</u><u>]</u>
       <b>-</b><b>-</b><b>c</b><b>l</b><b>i</b><b>e</b><b>n</b><b>t</b>     <u>T</u><u>u</u><u>n</u><u>n</u><u>e</u><u>l</u><u>R</u><u>e</u><u>m</u><u>o</u><u>t</u><u>e</u><u>I</u><u>P</u><u>,</u><u>I</u><u>n</u><u>n</u><u>e</u><u>r</u><u>I</u><u>P</u><u>[</u><u>/</u><u>m</u><u>a</u><u>s</u><u>k</u><u>]</u><u>[</u><u>:</u><u>C</u><u>o</u><u>n</u><u>t</u><u>r</u><u>o</u><u>l</u><u>P</u><u>o</u><u>r</u><u>t</u><u>[</u><u>:</u><u>D</u><u>a</u><u>t</u><u>a</u><u>P</u><u>o</u><u>r</u><u>t</u><u>]</u><u>]</u><u>,</u><u>R</u><u>e</u><u>‐</u>
       <u>m</u><u>o</u><u>t</u><u>e</u><u>I</u><u>n</u><u>n</u><u>e</u><u>r</u><u>I</u><u>P</u><u>[</u><u>:</u><u>C</u><u>o</u><u>n</u><u>t</u><u>r</u><u>o</u><u>l</u><u>P</u><u>o</u><u>r</u><u>t</u><u>[</u><u>:</u><u>D</u><u>a</u><u>t</u><u>a</u><u>P</u><u>o</u><u>r</u><u>t</u><u>]</u><u>]</u>
              Run in client mode and create L3 tunnel with the server on  <u>T</u><u>u</u><u>n</u><u>‐</u>
              <u>n</u><u>e</u><u>l</u><u>R</u><u>e</u><u>m</u><u>o</u><u>t</u><u>e</u><u>I</u><u>P</u>.  The client will use <u>I</u><u>n</u><u>n</u><u>e</u><u>r</u><u>I</u><u>P</u> to generate test traf‐
              fic with the server's <u>R</u><u>e</u><u>m</u><u>o</u><u>t</u><u>e</u><u>I</u><u>n</u><u>n</u><u>e</u><u>r</u><u>I</u><u>P</u>.

       <b>-</b><b>b</b> <u>t</u><u>a</u><u>r</u><u>g</u><u>e</u><u>t</u><u>b</u><u>a</u><u>n</u><u>d</u><u>w</u><u>i</u><u>d</u><u>t</u><u>h</u>
       <b>-</b><b>-</b><b>b</b><b>a</b><b>n</b><b>d</b><b>w</b><b>i</b><b>d</b><b>t</b><b>h</b> <u>t</u><u>a</u><u>r</u><u>g</u><u>e</u><u>t</u><u>b</u><u>a</u><u>n</u><u>d</u><u>w</u><u>i</u><u>d</u><u>t</u><u>h</u>
              Target bandwidth for UDP  tests.  The  <u>t</u><u>a</u><u>r</u><u>g</u><u>e</u><u>t</u><u>b</u><u>a</u><u>n</u><u>d</u><u>w</u><u>i</u><u>d</u><u>t</u><u>h</u>  must  be
              given  in  bits per second. It is possible to use postfix M or K
              to alter the target bandwidth magnitude.

       <b>-</b><b>i</b> <u>t</u><u>e</u><u>s</u><u>t</u><u>i</u><u>n</u><u>t</u><u>e</u><u>r</u><u>v</u><u>a</u><u>l</u>
       <b>-</b><b>-</b><b>i</b><b>n</b><b>t</b><b>e</b><b>r</b><b>v</b><b>a</b><b>l</b> <u>t</u><u>e</u><u>s</u><u>t</u><u>i</u><u>n</u><u>t</u><u>e</u><u>r</u><u>v</u><u>a</u><u>l</u>
              How long each test should run. By default 5 seconds.

       <b>-</b><b>t</b> <u>t</u><u>u</u><u>n</u><u>n</u><u>e</u><u>l</u><u>m</u><u>o</u><u>d</u><u>e</u>
       <b>-</b><b>-</b><b>t</b><b>u</b><b>n</b><b>n</b><b>e</b><b>l</b><b>-</b><b>m</b><b>o</b><b>d</b><b>e</b> <u>t</u><u>u</u><u>n</u><u>n</u><u>e</u><u>l</u><u>m</u><u>o</u><u>d</u><u>e</u>
              Specify the tunnel type. This option must match  on  server  and
              client.

       <b>-</b><b>h</b>
       <b>-</b><b>-</b><b>h</b><b>e</b><b>l</b><b>p</b> Prints a brief help message to the console.

       <b>-</b><b>V</b>
       <b>-</b><b>-</b><b>v</b><b>e</b><b>r</b><b>s</b><b>i</b><b>o</b><b>n</b>
              Prints version information to the console.

<b>E</b><b>X</b><b>A</b><b>M</b><b>P</b><b>L</b><b>E</b><b>S</b>
       On  host 192.168.122.220 start <b>o</b><b>v</b><b>s</b><b>-</b><b>l</b><b>3</b><b>p</b><b>i</b><b>n</b><b>g</b> in server mode.  This command
       will create a temporary GRE tunnel with the  host  192.168.122.236  and
       assign  10.1.1.1/28  as the inner IP address, where client will have to
       connect:

              <b>o</b><b>v</b><b>s</b><b>-</b><b>l</b><b>3</b><b>p</b><b>i</b><b>n</b><b>g</b> <b>-</b><b>s</b> <b>1</b><b>9</b><b>2</b><b>.</b><b>1</b><b>6</b><b>8</b><b>.</b><b>1</b><b>2</b><b>2</b><b>.</b><b>2</b><b>3</b><b>6</b><b>,</b><b>1</b><b>0</b><b>.</b><b>1</b><b>.</b><b>1</b><b>.</b><b>1</b><b>/</b><b>2</b><b>8</b> <b>-</b><b>t</b> <b>g</b><b>r</b><b>e</b>

       On host 192.168.122.236 start <b>o</b><b>v</b><b>s</b><b>-</b><b>l</b><b>3</b><b>p</b><b>i</b><b>n</b><b>g</b> in client mode.  This  command
       will  use  10.1.1.2/28  as  the local inner IP address and will connect
       over the L3 tunnel to the server's inner IP address at 10.1.1.1.

              <b>o</b><b>v</b><b>s</b><b>-</b><b>l</b><b>3</b><b>p</b><b>i</b><b>n</b><b>g</b> <b>-</b><b>c</b> <b>1</b><b>9</b><b>2</b><b>.</b><b>1</b><b>6</b><b>8</b><b>.</b><b>1</b><b>2</b><b>2</b><b>.</b><b>2</b><b>2</b><b>0</b><b>,</b><b>1</b><b>0</b><b>.</b><b>1</b><b>.</b><b>1</b><b>.</b><b>2</b><b>/</b><b>2</b><b>8</b><b>,</b><b>1</b><b>0</b><b>.</b><b>1</b><b>.</b><b>1</b><b>.</b><b>1</b> <b>-</b><b>t</b> <b>g</b><b>r</b><b>e</b>

<b>S</b><b>E</b><b>E</b> <b>A</b><b>L</b><b>S</b><b>O</b>
       <b>o</b><b>v</b><b>s</b><b>-</b><b>v</b><b>s</b><b>w</b><b>i</b><b>t</b><b>c</b><b>h</b><b>d</b>(8),    <b>o</b><b>v</b><b>s</b><b>-</b><b>o</b><b>f</b><b>c</b><b>t</b><b>l</b>(8),    <b>o</b><b>v</b><b>s</b><b>-</b><b>v</b><b>s</b><b>c</b><b>t</b><b>l</b>(8),    <b>o</b><b>v</b><b>s</b><b>-</b><b>v</b><b>l</b><b>a</b><b>n</b><b>-</b><b>t</b><b>e</b><b>s</b><b>t</b>(8),
       <b>o</b><b>v</b><b>s</b><b>-</b><b>t</b><b>e</b><b>s</b><b>t</b>(8), <b>e</b><b>t</b><b>h</b><b>t</b><b>o</b><b>o</b><b>l</b>(8), <b>u</b><b>n</b><b>a</b><b>m</b><b>e</b>(1)



Open vSwitch                        2.10.90                      ovs-l3ping(1)
</pre></body></html>
